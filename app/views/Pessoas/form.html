#{extends 'main.html' /}

#{if p}
	#{set title:'Edição de Pessoa' /}
#{/if}
#{else}
	#{set title:'Cadastro de Pessoa' /}
#{/else}

<form action="@{Pessoas.salvar}">
	<input type="hidden" name="pessoa.id" value="${p?.id}" />

	<div class="mb-3">
		<label class="form-label">Nome:</label>
		<input class="form-control" type="text"
			name="pessoa.nome" value="${p?.nome}" />
	</div>
	
	<div class="mb-3">
		<label class="form-label">Email:</label>
		<input class="form-control" type="text"
			name="pessoa.email" value="${p?.email}" />
	</div>
	
	<div class="mb-3">
		<label class="form-label">Data de Nascimento:</label>
		<input class="form-control" type="date"
			name="pessoa.dataNascimento" value="${p?.dataNascimento}" />
	</div>
	
	<div class="mb-3">
		<label class="form-label">Departamento:</label>
		<select class="form-select" name="pessoa.departamento.id">
			#{list items:departamentos, as:'d'}
				<option value="${d.id}" 
					${d.id == p?.departamento?.id ? 'selected' : ''}>
						${d.nome}
				</option>
			#{/list}
		</select>
	</div>
	
	<input class="btn btn-primary" type="submit"
		value="${p ? 'Editar':'Cadastrar'}" />
</form>